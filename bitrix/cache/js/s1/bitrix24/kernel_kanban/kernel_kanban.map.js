{"version":3, "file":"kernel_kanban.js", "sections": [{"offset": { "line": 8, "column": 0 }, "map": {"version":3,"sources":["/bitrix/js/main/kanban/grid.js"],"names":["BX","namespace","Kanban","Grid","options","type","isPlainObject","Error","this","isDomNode","renderTo","rendered","layout","outerContainer","innerContainer","gridContainer","earLeft","earRight","emptyStub","loader","leftShadow","rightShadow","itemType","getItemType","columnType","getColumnType","messages","Object","create","columns","columnsOrder","items","data","bgColor","Utils","isValidColor","earTimer","firstRenderComplete","dragMode","DragMode","NONE","multiSelect","ahaMode","selectedItems","addItemTitleText","addDraftItemInfo","canAddColumn","canEditColumn","canSortColumn","canRemoveColumn","canAddItem","canSortItem","dropZoneArea","DropZoneArea","dropZoneType","dropZoneTimeout","setData","loadData","events","eventName","hasOwnProperty","addCustomEvent","bindEvents","delegate","onItemDragStart","onItemDragStop","onColumnDragStart","onColumnDragStop","addSelectedItem","bind","adjustMultiSelectMode","removeSelectedItem","window","addEventListener","event","getKeyDownName","keyCode","getSelectedItems","length","cleanSelectedItems","PreventDefault","findParent","target","attr","data-element","getAttribute","ITEM","COLUMN","prototype","addColumn","getColumn","id","column","Column","setGrid","getId","targetColumn","targetId","targetIndex","util","array_search","splice","push","isRendered","getGridContainer","insertBefore","render","getContainer","appendChild","getAddItemTitleText","getAddDraftItemInfo","isAhaMode","onAhaMode","classList","add","offAhaMode","remove","removeColumn","removeColumnItems","filter","element","updateColumn","setOptions","getNextColumnSibling","currentColumn","columnIndex","getColumnIndex","getColumns","getPreviousColumnSibling","onMultiSelect","offMultiSelect","item","Item","indexOf","addItem","columnId","targetItem","getItem","onCustomEvent","removeItem","itemId","dispose","getItems","removeItems","forEach","updateItem","isValidId","moveItem","eventArgs","task","hideItem","isVisible","visible","isCountable","decrementTotal","unhideItem","incrementTotal","i","unSelect","isMultiSelect","getColumnsCount","getItemByElement","itemNode","dataset","className","classFn","getClass","isFunction","getDropZoneArea","getData","getBgColor","getBgColorStyle","getOptions","json","needToDraw","setRenderStatus","boolOptions","boolOption","isBoolean","isArray","dropZones","dropzone","getDropZone","updateDropZone","addDropZone","draw","docFragment","document","createDocumentFragment","cleanNode","renderLayout","adjustLayout","adjustEmptyStub","getOuterContainer","parentNode","getInnerContainer","getEmptyStub","getLeftEar","getRightEar","getLoader","adjustHeight","status","attrs","mouseenter","scrollToLeft","mouseleave","stopAutoScroll","scrollToRight","getRenderToContainer","props","style","backgroundColor","children","getLeftShadowContainer","getRightShadowContainer","scroll","adjustEars","text","getMessage","html","adjustWidth","grid","scrollLeft","isLeftVisible","isRightVisible","scrollWidth","Math","round","offsetWidth","width","getBoundingClientRect","top","height","documentElement","clientHeight","contains","minHeight","removeProperty","rectArea","left","moveSelectedItems","beforeItem","addSelectedItems","moveItems","startBeforeItem","currentColumns","columnItems","keyId","getColumnId","removeSelectedItems","addItems","moveColumn","canAddColumns","canEditColumns","canSortColumns","canRemoveColumns","canAddItems","canSortItems","setInterval","clearInterval","jsDD","refreshDestArea","getDragMode","getDragModeCode","mode","code","setDragMode","toLowerCase","resetDragMode","disabledItem","enableDropping","emptyAll","show","unDisabledItem","hide","getEventPromise","onFulfilled","onRejected","promises","concat","promise","Promise","firstPromise","then","fadeOut","fadeIn","messageId","message","DragEvent","action","allowAction","denyAction","isActionAllowed","setItems","setItem","setTargetItem","getTargetItem","setTargetColumn","getTargetColumn"],"mappings":"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","file":"grid.map.js"}},{"offset": { "line": 12, "column": 0 }, "map": {"version":3,"sources":["/bitrix/js/main/kanban/column.js"],"names":["BX","namespace","Kanban","Column","options","Utils","isValidId","id","Error","this","name","color","data","Object","create","total","isTotalFrozen","animate","canEdit","canSort","canRemove","canAddItem","droppable","setOptions","items","draftItem","grid","selectedItems","page","layout","container","dragTarget","title","subTitle","subTitleAddButton","titleArrow","editForm","fillColorButton","titleTextBox","addColumnButton","addColumnButtonAfter","addColumnButtonBefore","editButton","removeButton","ahaItem","rectArea","dragColumnOffset","dragColumnIndex","dragTargetColumn","confirmDialog","textBoxTimeout","colorChanged","hasBeenEdt","addItemTitleText","pagination","Pagination","DEFAULT_COLOR","prototype","getId","setName","setTotal","setColor","setData","boolOptions","forEach","boolOption","type","isBoolean","isValidColor","toLowerCase","getColor","setGrid","onCustomEvent","getGrid","getPagination","addSelectedItems","addItem","item","beforeItem","Item","setColumnId","index","util","array_search","splice","push","isCountable","incrementTotal","isRendered","render","addItems","startBeforeItem","itemId","cleanSelectedItems","adjustMultiSelectMode","getItems","getItemsCount","reduce","count","isVisible","getFirstItem","onlyVisible","i","length","getLastItem","getNextItemSibling","currentItem","getItem","itemIndex","getPreviousItemSibling","removeItem","itemToRemove","found","filter","decrementTotal","removeSelectedItems","itemsToRemove","removeItems","cleanNode","isNotEmptyString","getName","getData","isPlainObject","getGridData","isEditable","canEditColumns","isSortable","canSortColumns","isRemovable","canRemoveColumns","canAddItems","getTotal","value","isNumber","Math","max","freezeTotal","unfreezeTotal","refreshTotal","renderTitle","hasLoading","getIndex","getColumnIndex","getTitleContainer","appendChild","canAddColumns","getAddColumnButton","getSubTitle","subTitleContent","renderSubTitle","isEmptyColumn","document","createDocumentFragment","renderLayout","columnContainer","getContainer","classList","isDroppable","firstRenderComplete","contains","add","cleanAnimate","remove","removeEventListener","bind","addEventListener","adjust","adjustEmptyStub","titleBody","getDefaultTitleLayout","isDark","isDarkColor","nameInner","textContent","style","backgroundColor","background","customButtons","getCustomTitleButtons","isDomNode","isArray","attrs","className","children","info","getColumnTitle","getTotalItem","getEditButton","concat","getEditForm","events","click","switchToEditMode","getRemoveButton","handleRemoveButtonClick","getTitleTextBox","getFillColorButton","placeholder","getMessage","blur","handleTextBoxBlur","keydown","handleTextBoxKeyDown","showColorPicker","disableDragging","focusTextBox","applyEditMode","trim","titleChanged","enableDragging","event","setTimeout","stopTextBoxBlur","clearTimeout","focus","keyCode","showRemoveConfirmDialog","getColorPicker","open","colorPicker","ColorPicker","bindElement","onColorSelected","popupOptions","onPopupClose","substr","getConfirmDialog","PopupWindow","getRandomString","titleBar","content","width","autoHide","overlay","closeByEsc","closeIcon","draggable","restrict","buttons","PopupWindowButton","text","handleConfirmButtonClick","PopupWindowButtonLink","popupWindow","close","destroy","getButton","addClassName","promise","getEventPromise","result","removeColumn","removeClassName","error","setContent","display","fulfill","show","handleAddColumnButtonClick","newColumn","addColumn","targetId","getNextColumnSibling","button","handleAddItemButtonClick","getAddItemTitleText","props","addDraftItem","getDraftItem","targetItem","getColumn","columnId","countable","focusDraftTextArea","removeDraftItem","getHeader","getBody","makeDraggable","makeDroppable","header","body","data-id","data-type","wheel","delegate","blockPageScroll","getItemsContainer","getDragTarget","handlerHoverClass","node","onAhaMode","getAhaItem","offAhaMode","removeChild","bodyContainer","scrollHeight","offsetHeight","mouseScroll","deltaY","detail","wheelDelta","scrollTop","preventDefault","clientHeight","onbxdragstart","onColumnDragStart","onbxdrag","onColumnDrag","onbxdragstop","onColumnDragStop","columnBody","onbxdestdraghover","onDragEnter","onbxdestdraghout","onDragLeave","onbxdestdragfinish","onDragDrop","onbxdestdragstop","onItemDragEnd","jsDD","registerDest","disableDropping","unregisterObject","registerObject","disableDest","enableDropping","enableDest","isDraggable","itemNode","x","y","draggableItem","getItemByElement","showDragTarget","getBodyContainer","hideDragTarget","getSelectedItems","onDragDropMulti","DragEvent","setItem","setTargetColumn","isActionAllowed","success","moveItem","draggableItems","setItems","moveItems","start_x","getRectArea","left","transform","columns","getColumns","columnWidth","columnIndex","column","columnRectArea","columnMiddle","middle","transition","resetRectArea","moveBackRight","moveBackLeft","moveColumn","removeProperty","adjustEars","pos","height","DraftColumn","apply","arguments","asyncEventStarted","addCustomEvent","onAddedToGrid","lastColorIndex","__proto__","constructor","disabled","targetColumn","getNextColor","defaultColors","getDefaultColors","timer","loadingInProgress","topButton","bottomButton","loader","init","getTopButton","getBottomButton","getLoader","throttle","window","isTopVisible","isBottomVisible","top","offsetTop","refreshDestArea","showLoader","loadItems","onPromiseFulfilled","onPromiseRejected","hideLoader","processPromiseResult","reason","setRenderStatus","getPage","mouseenter","scrollUp","mouseleave","stopScroll","scrollDown","html","getDragMode","DragMode","ITEM","setInterval","clearInterval"],"mappings":"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","file":"column.map.js"}},{"offset": { "line": 16, "column": 0 }, "map": {"version":3,"sources":["/bitrix/js/main/kanban/item.js"],"names":["BX","namespace","Kanban","Item","options","type","isPlainObject","Error","this","Utils","isValidId","id","grid","columnId","layout","container","dragTarget","bodyContainer","checkbox","cursor","dragElement","draggable","droppable","countable","visible","selected","data","Object","create","setOptions","prototype","getId","getColumnId","setColumnId","getColumn","getGrid","setGrid","Grid","setData","isBoolean","getData","isCountable","isVisible","getGridData","renderLayout","getBodyContainer","cleanNode","isMultiSelect","appendChild","getCheckbox","render","getContainer","attrs","className","data-id","data-type","data-element","children","getDragTarget","events","click","adjustSelection","bind","firstRenderComplete","draftContainer","classList","add","makeDraggable","makeDroppable","handleClick","unSelect","select","isSelected","stopEvent","onCustomEvent","remove","getDragElement","props","animateAha","getAhaCursor","getBody","style","overflow","zIndex","unsetAnimateAha","contains","parentNode","removeChild","content","borderLeft","getColor","textContent","disabledItem","unDisabledItem","dispose","jsDD","unregisterDest","unregisterObject","isDraggable","itemContainer","onbxdragstart","delegate","onDragStart","onbxdrag","onDrag","onbxdragstop","onDragStop","registerObject","isDroppable","onbxdestdraghover","onDragEnter","onbxdestdraghout","onDragLeave","onbxdestdragfinish","onDragDrop","onbxdestdragstop","onItemDragEnd","registerDest","getDragMode","DragMode","ITEM","disableDropping","disableDragging","enableDragging","disableDest","enableDropping","enableDest","canSortItems","cleanSelectedItems","offMultiSelect","getSelectedItems","length","onDragStartMulti","cloneNode","position","width","offsetWidth","document","body","selectItems","i","item","itemNode","maxHeight","offsetHeight","x","y","left","top","draggableItem","getItemByElement","showDragTarget","hideDragTarget","onDragDropMulti","event","DragEvent","setItem","setTargetColumn","setTargetItem","isActionAllowed","success","moveItem","items","draggableItems","currentItem","setItems","index","util","array_search","columnItems","getItems","itemColumnNum","moveItems","height","removeProperty","DraftItem","apply","arguments","asyncEventStarted","draftTextArea","draftContainerText","__proto__","constructor","getDraftTextArea","getAddDraftItemInfo","getDraftInfoText","html","addCustomEvent","proxy","applyDraftEditMode","placeholder","getMessage","blur","handleDraftTextAreaBlur","keydown","handleDraftTextAreaKeyDown","window","title","trim","value","removeDraftItem","disabled","promise","getEventPromise","onItemAddedFulfilled","onItemAddedRejected","fulfill","result","targetId","targetItem","getNextItemSibling","newItem","addItem","NONE","draftItemExists","getColumns","some","column","getDraftItem","prevItem","getPreviousItemSibling","addDraftItem","error","removeCustomEvent","focusDraftTextArea","focus","setTimeout","keyCode"],"mappings":"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","file":"item.map.js"}},{"offset": { "line": 24, "column": 0 }, "map": {"version":3,"sources":["/bitrix/js/main/kanban/dropzone.js"],"names":["BX","namespace","Kanban","DropZone","options","Utils","isValidId","id","Error","this","name","color","data","Object","create","dropZoneArea","setOptions","layout","container","bg","cancel","droppedItem","captureTimeout","DEFAULT_COLOR","prototype","getId","setName","setColor","setData","type","isNotEmptyString","getName","isValidColor","toLowerCase","getColor","getData","isPlainObject","getGridData","getGrid","setDropZoneArea","getDropZoneArea","makeDroppable","getContainer","onbxdestdraghover","delegate","onDragEnter","onbxdestdraghout","onDragLeave","onbxdestdragfinish","onDragDrop","jsDD","registerDest","setActive","classList","add","unsetActive","remove","setCaptured","unsetCaptured","itemNode","x","y","draggableItem","getItemByElement","captureItem","item","event","DropZoneEvent","setItem","setDropZone","onCustomEvent","isActionAllowed","empty","show","animateRemove","hideItem","setTimeout","hide","bind","getDropZoneTimeout","parentNode","style","overflow","restore","clearTimeout","unhideItem","removeItem","attrs","className","data-id","children","getNameContainer","getCancelLink","getBgContainer","isDark","isDarkColor","events","click","handleCancelClick","html","getMessage","render","textContent","backgroundColor","action","isBoolean","dropZone","allowAction","denyAction","getItem","getDropZone"],"mappings":"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","file":"dropzone.map.js"}},{"offset": { "line": 28, "column": 0 }, "map": {"version":3,"sources":["/bitrix/js/main/kanban/utils.js"],"names":["BX","namespace","Kanban","Utils","getKeyDownName","code","isValidId","id","type","isNumber","isNotEmptyString","getClass","fullClassName","classFn","currentNamespace","window","namespaces","split","i","length","isEmptyObject","obj","name","isValidColor","hex","match","getDefaultColors","isDarkColor","this","replace","toLowerCase","defaultColors","util","in_array","bigint","parseInt","red","green","blue","brightness","showErrorDialog","error","fatal","dialog","PopupWindowManager","create","titleBar","message","content","width","autoHide","overlay","closeByEsc","closeIcon","draggable","restrict","contentColor","setContent","setButtons","PopupWindowButton","text","className","events","click","reload","popupWindow","close","show"],"mappings":"CAAC,WAED,aAEAA,GAAGC,UAAU,aAEbD,GAAGE,OAAOC,OAMTC,eAAgB,SAASC,GAExB,OAAOA,GAEN,KAAK,GACJ,MAAO,SACR,QACC,OAAO,QAIVC,UAAW,SAASC,GAEnB,OAAOP,GAAGQ,KAAKC,SAASF,IAAOP,GAAGQ,KAAKE,iBAAiBH,IAGzDI,SAAU,SAASC,GAElB,IAAKZ,GAAGQ,KAAKE,iBAAiBE,GAC9B,CACC,OAAO,KAGR,IAAIC,EAAU,KACd,IAAIC,EAAmBC,OACvB,IAAIC,EAAaJ,EAAcK,MAAM,KACrC,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAAWG,OAAQD,IACvC,CACC,IAAIjB,EAAYe,EAAWE,GAC3B,IAAKJ,EAAiBb,GACtB,CACC,OAAO,KAGRa,EAAmBA,EAAiBb,GACpCY,EAAUC,EAGX,OAAOD,GAGRO,cAAe,SAASC,GAGvB,IAAK,IAAIC,KAAQD,EACjB,CACC,OAAO,MAGR,OAAO,MAGRE,aAAc,SAASC,GAEtB,OAAOxB,GAAGQ,KAAKE,iBAAiBc,IAAQA,EAAIC,MAAM,sCAOnDC,iBAAkB,WAEjB,OACC,SACA,SACA,SACA,SACA,SACA,SACA,WAIFC,YAAa,SAASH,GAErB,IAAKI,KAAKL,aAAaC,GACvB,CACC,OAAO,MAGR,GAAIA,EAAIL,SAAW,EACnB,CACCK,EAAMA,EAAIK,QAAQ,eAAgB,QAGnCL,EAAMA,EAAIM,cACV,IAAIC,EAAgBH,KAAKF,mBACzB,GAAI1B,GAAGgC,KAAKC,SAAST,EAAKO,GAC1B,CACC,OAAO,KAGR,IAAIG,EAASC,SAASX,EAAK,IAC3B,IAAIY,EAAOF,GAAU,GAAM,IAC3B,IAAIG,EAASH,GAAU,EAAK,IAC5B,IAAII,EAAOJ,EAAS,IAEpB,IAAIK,GAAcH,EAAM,IAAMC,EAAQ,IAAMC,EAAO,KAAO,IAC1D,OAAOC,EAAa,KAGrBC,gBAAiB,SAASC,EAAOC,GAEhC,IAAK1C,GAAGQ,KAAKE,iBAAiB+B,GAC9B,CACC,OAGD,IAAIE,EAAS3C,GAAG4C,mBAAmBC,OAClC,2BACA,MAECC,SAAU9C,GAAG+C,QAAQ,qBACrBC,QAAS,GACTC,MAAO,IACPC,SAAU,MACVC,QAAS,KACTC,WAAa,KACbC,UAAY,KACZC,WAAcC,SAAW,MACzBC,aAAc,UAIhBb,EAAOc,WAAWhB,GAElBE,EAAOe,YACN,IAAI1D,GAAG2D,mBACNC,KAAOlB,IAAU,KACd1C,GAAG+C,QAAQ,sBACX/C,GAAG+C,QAAQ,2BACdc,UAAW,6BACXC,QACCC,MAAO,WAEN,GAAIrB,IAAU,KACd,CACC1C,GAAGgE,SAEJpC,KAAKqC,YAAYC,cAMrBvB,EAAOwB,OAEP,OAAOxB,KAhKR","file":"utils.map.js"}}]}